---
const { project, colorName = 'cyan' } = Astro.props;
const title = project.anilist.title.romaji;
const image = project.anilist.coverImage.extraLarge;
const cardColor = project.anilist.coverImage.color || '#1f2937';
const url = `/projects/${project.slug}`;
const tagBgClass = `bg-${colorName}-500`;
---
<div class="w-full max-w-[180px] mx-auto">
  <div class="aspect-[2/3] w-full">
    <a href={url} class="group relative block w-full h-full overflow-hidden rounded-lg shadow-lg bg-gray-800 transform transition-all duration-300 hover:shadow-cyan-500/30 hover:scale-105" style=`--card-accent-color: ${cardColor};`>
      <img src={image} alt={`Cover for ${title}`} loading="lazy" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110" />
      <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent"></div>
      <div class="absolute top-2 right-2">
        <span class=`text-xs font-bold text-white px-2 py-1 rounded-md shadow-lg ${tagBgClass}`>
          {project.data.status}
        </span>
      </div>
      <div class="absolute bottom-0 left-0 p-3 w-full">
        <h3 class="font-semibold text-base text-white leading-tight drop-shadow-lg">{title}</h3>
      </div>
      <div class="absolute top-0 left-0 w-full h-1 bg-[var(--card-accent-color)] opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
    </a>
  </div>
</div>