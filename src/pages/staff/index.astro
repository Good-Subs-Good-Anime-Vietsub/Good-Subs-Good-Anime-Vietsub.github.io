---
// File: src/pages/staff/index.astro (Bản sửa lỗi đường dẫn)
import { getCollection } from 'astro:content';
// SỬA Ở ĐÂY: Đường dẫn đúng là '../../layouts/...'
import MainLayout from '../../layouts/MainLayout.astro';

const allStaff = (await getCollection('staff')).sort((a, b) => 
  a.data.name.localeCompare(b.data.name)
);
---
<MainLayout title="Thành viên - GSGA Fansub">
  <h1 class="text-4xl font-bold text-center my-8">Đội ngũ GSGA</h1>
  <div class="max-w-3xl mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      {allStaff.map(member => (
        <a 
          href={member.data.github_url} 
          target="_blank" 
          rel="noopener noreferrer" 
          class="flex items-center gap-4 p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors"
        >
          <div>
            <h2 class="text-xl font-bold text-cyan-400">{member.data.name}</h2>
            <p class="text-sm text-gray-300">{member.data.role}</p>
          </div>
        </a>
      ))}
    </div>
  </div>
</MainLayout>